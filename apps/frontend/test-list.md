# フロントエンド テストリスト - Age of Hero キャラクターシート

**作成日**: 2025-09-12  
**対象**: Age of Hero キャラクターシート管理システム フロントエンド実装  

## 🎯 ビジネスロジック統合テスト

**注意**: ビジネスロジック本体は `packages/core` で実装・テスト済み

### packages/core 統合確認 ✅ **部分完了**
- [x] **@age-of-hero/core**: coreパッケージからの関数インポート・使用確認
- [x] **能力値計算**: coreの計算ロジックがフロントエンドで正しく動作すること（calculateAbilities関数）
- [ ] **技能管理**: core の技能管理ロジックとUI の連携確認

## 🎨 UI/UX テスト

### キャラクター作成フォーム ✅ **基本完了** ⚠️ **拡張必要**

- [x] **フォームバリデーション**: 入力値検証とエラー表示
  - [x] 必須フィールドの検証（名前、クラス選択）
  - [x] 数値範囲の検証（能力値計算）
  - [x] リアルタイムバリデーション
- [x] **UI状態管理**: フォーム状態の適切な管理
  - [x] 入力値の保持（React useState）
  - [x] 計算結果のリアルタイム更新（useMemo）
  - [x] エラー状態の表示

**実装完了**: `CharacterForm` コンポーネント（基本版）
- 10のテストケース全通過
- FSDアーキテクチャ準拠（`features/character-creation/ui/`）
- packages/core統合（calculateAbilities関数使用）
- vitest + React Testing Library環境構築

**⚠️ spec.md要件との差分**:
- [ ] **技能ポイント割り振り**: 150%分のポイント配分UI未実装（FR-016）
- [ ] **ヒーロースキル選択**: 7Lvのスキル選択UI未実装（FR-018）
- [ ] **必殺技選択**: 1Lvの必殺技選択UI未実装（FR-019）
- [ ] **アイテム購入**: 20点分のアイテム購入UI未実装（FR-020）
- [ ] **HP・SP・行動値表示**: 最終ステータス算出・表示未実装（FR-021, FR-022）
- [ ] **マルチステップフォーム**: 段階的なキャラ作成フロー未実装

### セッション管理UI

- [ ] **セッション追加フォーム**: セッション記録の操作
  - [ ] セッション情報入力
  - [ ] パスワード認証フロー
  - [ ] 成功・エラーフィードバック
- [ ] **セッション履歴表示**: 過去セッションの表示
  - [ ] 時系列順での表示
  - [ ] セッション詳細表示
  - [ ] 編集・削除機能

## 🔄 統合・E2E テスト

### エンドツーエンドシナリオ ⚠️ **spec.md要件未対応**

- [ ] **完全なキャラクター作成フロー**: spec.mdの受け入れシナリオ1-1～1-5に対応
  - [ ] 1-1: クラス選択（8種類から2つ選択、重複可能）✅ 完了
  - [ ] 1-2: 能力値算出（2クラス合計、+1ボーナス適用）✅ 完了
  - [ ] 1-3: 技能初期値算出・150%ポイント割り振り ❌ 未実装
  - [ ] 1-4: ヒーロースキル7Lv・必殺技1Lv・アイテム20点分取得 ❌ 未実装
  - [ ] 1-5: HP・SP・行動値算出・最終ステータス表示 ❌ 未実装
- [ ] **パスワード保護フロー**: パスワード設定と認証の流れ ❌ 未実装
  - [ ] 新規作成時のパスワード設定
  - [ ] 既存キャラクターの認証フロー
  - [ ] 認証失敗時のエラー処理
- [ ] **セッション管理フロー**: セッション記録と管理の流れ ❌ 未実装
  - [ ] セッション追加→履歴確認→編集
  - [ ] 複数セッションの時系列管理
  - [ ] セッション削除とデータ整合性

**⚠️ spec.md受け入れシナリオとの重大な差分**:
- 現在の実装は受け入れシナリオ1-1、1-2のみカバー（40%完了）
- シナリオ1-3～1-5の機能がすべて未実装（60%不足）

### レスポンシブ対応

- [ ] **基本レスポンシブ**: 画面サイズ別の表示確認
  - [ ] モバイル（375px～）
  - [ ] デスクトップ（1024px～）

**注意**: 小規模TRPG用ツール（最大10ユーザー）のため、以下は実装しない：
- ❌ 複数ブラウザ対応（Chrome/Edgeのみ）
- ❌ アクセシビリティ対応（過剰品質）
- ❌ パフォーマンス最適化（<100キャラクター想定のため不要）

---

## 📝 実装方針

### 技術スタック
- **フレームワーク**: React 19 + TypeScript
- **状態管理**: React Hook (useState, useReducer)
- **スタイリング**: CSS Modules or Tailwind CSS
- **テスト**: Vitest + React Testing Library + Playwright (E2E)

### 実装順序
1. 🎯 ビジネスロジック実装（能力値計算など）
2. 🎨 基本UI実装（キャラクター作成フォーム）
3. 🔄 API統合（バックエンド連携）
4. 🧪 E2Eテスト実装

### 完了基準
- 基本機能テストの実装完了
- E2Eテストの全通過
- モバイル・デスクトップ対応確認